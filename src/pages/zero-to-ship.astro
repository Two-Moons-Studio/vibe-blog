---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout 
  title="Zero to Ship - Vibe Code Moonlighter" 
  description="Learn the core mechanics of AI-assisted building. Ship products faster than you can write PRDs."
>
  <div class="container-medium">
    <PageHeader 
      title="Zero to Ship"
      subtitle="Master the fundamental mechanics of AI-assisted building. Not the glossy tools. The real patterns that matter."
      label="THE NO-BS LEARNING PATH"
      variant="hero"
    />

  <!-- Path Selector -->
  <nav class="path-selector">
    <button class="path-tab active" data-path="pm">
      <span class="tab-text">PRODUCT</span>
    </button>
    <button class="path-tab disabled" data-path="designer">
      <span class="tab-text">DESIGN</span>
      <span class="coming-soon">Coming Soon</span>
    </button>
    <button class="path-tab disabled" data-path="everyone">
      <span class="tab-text">LEADERS</span>
      <span class="coming-soon">Coming Soon</span>
    </button>
  </nav>

  <!-- Modules Container -->
  <div class="modules-container">
    
    <!-- Module 1 -->
    <article class="module" data-module="1">
      <div class="module-number">01</div>
      
      <header class="module-header">
        <span class="module-label">MODULE ONE</span>
        <h2 class="module-title">
          Foundation &<br />
          Mental Models
        </h2>
      </header>
      
      <div class="module-intro">
        <p>From terminal terror to GitHub confidence. Learn the core mechanics that every AI builder needs.</p>
      </div>
      
      <button class="module-expand" aria-expanded="false">
        <span>See Lessons</span>
        <span class="arrow">→</span>
      </button>
      
      <div class="module-content" hidden>
        <div class="content-section">
          <h3>What You'll Learn</h3>
          <div class="lesson-list">
            <a href="/posts/terminal-terror-first-time" class="lesson-item">
              <span class="lesson-number">1.1</span>
              <span class="lesson-title">Terminal Terror to Terminal Courage</span>
            </a>
            <a href="/posts/git-mental-model" class="lesson-item">
              <span class="lesson-number">1.2</span>
              <span class="lesson-title">Git as Your Save-Point System</span>
            </a>
            <a href="/posts/three-hour-semicolon" class="lesson-item">
              <span class="lesson-number">1.3</span>
              <span class="lesson-title">Local vs Production Mental Model</span>
            </a>
            <a href="/posts/npm-install-prayer-circle" class="lesson-item">
              <span class="lesson-number">1.4</span>
              <span class="lesson-title">Why Setup is Harder Than Coding</span>
            </a>
          </div>
        </div>
      </div>
    </article>

    <!-- Module 2 -->
    <article class="module" data-module="2">
      <div class="module-number">02</div>
      
      <header class="module-header">
        <span class="module-label">MODULE TWO</span>
        <h2 class="module-title">
          AI That<br />
          Actually Helps
        </h2>
      </header>
      
      <div class="module-intro">
        <p>Stop fighting with agreeable AI. Learn the patterns that make Claude your best engineering partner.</p>
      </div>
      
      <button class="module-expand" aria-expanded="false">
        <span>See Lessons</span>
        <span class="arrow">→</span>
      </button>
      
      <div class="module-content" hidden>
        <div class="content-section">
          <h3>What You'll Learn</h3>
          <div class="lesson-list">
            <a href="/posts/claude-not-yes-bot" class="lesson-item">
              <span class="lesson-number">2.1</span>
              <span class="lesson-title">Anti-Agreeable AI Prompting</span>
            </a>
            <a href="/posts/cursor-vs-claude" class="lesson-item">
              <span class="lesson-number">2.2</span>
              <span class="lesson-title">Two-Tool Workflow (Desktop + Code)</span>
            </a>
            <a href="/posts/hello-moonlight" class="lesson-item">
              <span class="lesson-number">2.3</span>
              <span class="lesson-title">Context Engineering Basics</span>
            </a>
            <a href="/posts/hello-world" class="lesson-item">
              <span class="lesson-number">2.4</span>
              <span class="lesson-title">Planning vs Executing Modes</span>
            </a>
          </div>
        </div>
      </div>
    </article>

    <!-- Module 3 -->
    <article class="module" data-module="3">
      <div class="module-number">03</div>
      
      <header class="module-header">
        <span class="module-label">MODULE THREE</span>
        <h2 class="module-title">
          Product Thinking<br />
          in Code
        </h2>
      </header>
      
      <div class="module-intro">
        <p>Transform PRDs into production. Build real features that validate strategy through user interaction.</p>
      </div>
      
      <button class="module-expand" aria-expanded="false">
        <span>See Lessons</span>
        <span class="arrow">→</span>
      </button>
      
      <div class="module-content" hidden>
        <div class="content-section">
          <h3>What You'll Learn</h3>
          <div class="lesson-list">
            <a href="/posts/prd-to-production" class="lesson-item">
              <span class="lesson-number">3.1</span>
              <span class="lesson-title">PRD to Production in 90 Minutes</span>
            </a>
            <a href="/posts/figma-to-code-reality" class="lesson-item">
              <span class="lesson-number">3.2</span>
              <span class="lesson-title">Strategy Validation Through Building</span>
            </a>
            <a href="/posts/design-system-that-codes" class="lesson-item">
              <span class="lesson-number">3.3</span>
              <span class="lesson-title">User Empathy Over Technical Perfection</span>
            </a>
            <a href="/posts/hello-world" class="lesson-item">
              <span class="lesson-number">3.4</span>
              <span class="lesson-title">Assembly Line Thinking</span>
            </a>
          </div>
        </div>
      </div>
    </article>

    <!-- Module 4 -->
    <article class="module" data-module="4">
      <div class="module-number">04</div>
      
      <header class="module-header">
        <span class="module-label">MODULE FOUR</span>
        <h2 class="module-title">
          Ship &<br />
          Iterate
        </h2>
      </header>
      
      <div class="module-intro">
        <p>Production isn't scary. Learn deployment, user feedback loops, and the art of shipping imperfect.</p>
      </div>
      
      <button class="module-expand" aria-expanded="false">
        <span>See Lessons</span>
        <span class="arrow">→</span>
      </button>
      
      <div class="module-content" hidden>
        <div class="content-section">
          <h3>What You'll Learn</h3>
          <div class="lesson-list">
            <a href="/posts/hello-moonlight" class="lesson-item">
              <span class="lesson-number">4.1</span>
              <span class="lesson-title">Deployment Without Fear</span>
            </a>
            <a href="/posts/git-mental-model" class="lesson-item">
              <span class="lesson-number">4.2</span>
              <span class="lesson-title">GitHub as Product Management</span>
            </a>
            <a href="/posts/three-hour-semicolon" class="lesson-item">
              <span class="lesson-number">4.3</span>
              <span class="lesson-title">Iterating Live vs Planning Perfect</span>
            </a>
            <a href="/posts/hello-world" class="lesson-item">
              <span class="lesson-number">4.4</span>
              <span class="lesson-title">Building Momentum Through Small Wins</span>
            </a>
          </div>
        </div>
      </div>
    </article>

    </div>

    <!-- Bottom CTA -->
    <section class="bottom-cta">
      <div class="cta-divider"></div>
      <p class="cta-text">
        Ready to stop writing specs and start shipping products?
      </p>
      <a href="/subscribe" class="cta-button">
        Get Started
      </a>
    </section>

  </div>

</Layout>

<style>
  /* Path Selector */
  .path-selector {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-6);
    padding: var(--space-6) var(--page-padding);
    margin: calc(0px - var(--space-10)) 0 var(--space-8);
    position: relative;
  }

  .path-selector::before,
  .path-selector::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 30%;
    height: 1px;
    background: var(--color-border);
  }

  .path-selector::before {
    left: 0;
  }

  .path-selector::after {
    right: 0;
  }

  .path-tab {
    font-family: var(--font-sans-geometric);
    font-size: 0.6rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-text-secondary);
    background: none;
    border: none;
    padding: var(--space-2) var(--space-3);
    cursor: pointer;
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60px;
  }

  .path-tab.active {
    color: var(--color-neutral-0);
    background: var(--color-text-primary);
    position: relative;
    padding: var(--space-2) var(--space-5);
  }

  .path-tab.active::before {
    content: '';
    position: absolute;
    top: -100%;
    left: -100%;
    right: 100%;
    bottom: 100%;
    background: linear-gradient(
      135deg,
      var(--color-accent) 0%,
      var(--color-accent) 50%,
      transparent 50%,
      transparent 100%
    );
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 0;
  }

  .path-tab.active:hover::before {
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
  }

  .path-tab .tab-text {
    position: relative;
    z-index: 1;
  }

  .path-tab .coming-soon {
    font-size: 0.5rem;
    letter-spacing: 0.1em;
    opacity: 0.6;
    position: relative;
    z-index: 1;
    margin-top: var(--space-1);
    transition: all var(--transition-normal);
    transform: translateY(2px);
  }

  .path-tab.disabled {
    opacity: 0.5;
    cursor: pointer;
  }

  .path-tab.disabled:hover {
    opacity: 0.8;
    transform: translateY(-1px);
  }

  .path-tab.disabled:hover .tab-text {
    color: var(--color-accent);
  }

  .path-tab.disabled:hover .coming-soon {
    color: var(--color-accent);
    opacity: 0.9;
    transform: translateY(0);
  }

  /* Tooltip */
  .path-tab.disabled {
    position: relative;
  }

  .path-tab.disabled::after {
    content: 'Subscribe to newsletter to get notified';
    position: absolute;
    bottom: -60px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--color-text-primary);
    color: var(--color-neutral-0);
    padding: var(--space-2) var(--space-3);
    border-radius: 4px;
    font-size: 0.65rem;
    letter-spacing: 0.05em;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .path-tab.disabled:hover::after {
    opacity: 1;
  }

  .path-tab.disabled[data-path="designer"]::after {
    content: 'Subscribe to newsletter for Design path updates';
  }

  .path-tab.disabled[data-path="everyone"]::after {
    content: 'Subscribe to newsletter for Leaders path updates';
  }

  /* Modules Container */
  .modules-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--page-padding);
  }

  /* Module Cards */
  .module {
    position: relative;
    margin-bottom: calc(var(--space-8) + 100px);
    padding: 20px var(--space-10) 20px;
    background: var(--color-bg-page);
    overflow: visible;
    transition: all var(--transition-normal);
  }


  .module-number {
    font-family: var(--font-serif-display);
    font-size: 6rem;
    font-weight: var(--font-weight-semibold);
    font-style: italic;
    line-height: 0.8;
    color: var(--color-border);
    margin-bottom: var(--space-6);
    transition: color var(--transition-normal);
    letter-spacing: -0.05em;
    margin-left: -0.1em;
  }

  .module:hover .module-number {
    color: var(--color-text-primary);
  }

  .module-header {
    position: relative;
    z-index: 1;
    margin-bottom: var(--space-5);
  }

  .module-label {
    display: block;
    font-family: var(--font-sans-geometric);
    font-size: 0.6rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-accent);
    line-height: var(--line-height-normal);
    margin-bottom: var(--space-3);
  }

  .module-title {
    font-family: var(--font-serif-display);
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    margin: 0;
    color: var(--color-text-primary);
    letter-spacing: -0.02em;
  }

  .module-intro {
    position: relative;
    z-index: 1;
    margin-bottom: var(--space-5);
  }

  .module-intro p {
    font-family: var(--font-serif-body);
    font-size: var(--font-size-large);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-secondary);
    margin: 0;
  }

  .module-expand {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-family: var(--font-sans-geometric);
    font-size: 0.6rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-text-primary);
    line-height: var(--line-height-normal);
    background: none;
    border: none;
    padding: var(--space-2) 0;
    cursor: pointer;
    transition: all var(--transition-normal);
  }

  .module-expand:hover {
    color: var(--color-accent);
  }

  .module-expand .arrow {
    font-size: 1.2em;
    transition: transform var(--transition-normal);
  }

  .module-expand[aria-expanded="true"] .arrow {
    transform: rotate(90deg);
  }

  .module-expand[aria-expanded="true"] {
    color: var(--color-accent);
  }

  /* Module Content */
  .module-content {
    position: relative;
    z-index: 1;
    margin-top: var(--space-3);
    padding-top: var(--space-2);
  }

  .content-section {
    margin-bottom: var(--space-3);
    padding: 20px 0;
  }

  .content-section:last-child {
    margin-bottom: 0;
  }

  .content-section h3 {
    font-family: var(--font-sans-geometric);
    font-size: 0.6rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-accent);
    margin: 0 0 var(--space-2);
  }

  .content-section p {
    font-family: var(--font-serif-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2);
  }

  .content-section ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .content-section li {
    font-family: var(--font-serif-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
    padding-left: var(--space-4);
    position: relative;
  }

  .content-section li::before {
    content: '—';
    position: absolute;
    left: 0;
    color: var(--color-accent);
  }

  /* Lesson List Styling */
  .lesson-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .lesson-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-1) 0;
    text-decoration: none;
    transition: all var(--transition-normal);
    position: relative;
  }

  .lesson-item:hover {
    transform: translateX(var(--space-1));
  }

  .lesson-number {
    font-family: var(--font-sans-geometric);
    font-size: 0.6rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-accent);
    min-width: 2rem;
    flex-shrink: 0;
  }

  .lesson-item::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 60%;
    height: 1px;
    background: var(--color-accent);
    opacity: 0.2;
  }

  .lesson-title {
    font-family: var(--font-serif-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-primary);
    transition: color var(--transition-normal);
  }

  .lesson-item:hover .lesson-title {
    color: var(--color-accent);
  }

  /* Bottom CTA */
  .bottom-cta {
    text-align: center;
    padding: calc(var(--space-10) * 2) var(--page-padding);
    max-width: 700px;
    margin: 0 auto;
    position: relative;
  }

  .cta-divider {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      var(--color-border) 30%,
      var(--color-border) 70%,
      transparent
    );
  }

  .cta-text {
    font-family: var(--font-serif-display);
    font-size: var(--font-size-2xl);
    line-height: var(--line-height-tight);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-8);
    letter-spacing: -0.02em;
  }

  .cta-button {
    display: inline-block;
    font-family: var(--font-sans-geometric);
    font-size: 0.7rem;
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.25em;
    color: var(--color-neutral-0);
    background: var(--color-text-primary);
    padding: var(--space-4) var(--space-8);
    text-decoration: none;
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
  }

  .cta-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--color-accent);
    transition: left 0.3s ease;
    z-index: -1;
  }

  .cta-button:hover {
    transform: translateY(-2px);
  }

  .cta-button:hover::before {
    left: 0;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .hero {
      padding-top: calc(var(--space-10) + var(--space-6));
    }

    .hero-description {
      font-size: var(--font-size-large);
    }

    .path-selector {
      gap: var(--space-3);
      padding: var(--space-4) var(--page-padding);
      margin: var(--space-3) 0 var(--space-6);
    }

    .path-selector::before,
    .path-selector::after {
      width: 20%;
    }

    .path-tab {
      font-size: 0.6rem;
      padding: var(--space-2) var(--space-3);
      letter-spacing: 0.3em;
    }

    .module {
      padding: 0 var(--space-6) var(--space-4);
      margin-bottom: var(--space-6);
    }

    .module-number {
      font-size: 4rem;
      margin-bottom: var(--space-4);
    }

    .module-title {
      font-size: var(--font-size-xlarge);
    }

    .module-intro p {
      font-size: var(--font-size-base);
    }

    .cta-text {
      font-size: var(--font-size-xlarge);
    }
  }
</style>

<script>
  // Module expand/collapse functionality
  document.addEventListener('DOMContentLoaded', () => {
    const modules = document.querySelectorAll('.module');
    
    // Handle disabled tab clicks for "coming soon" / "get notified"
    const disabledTabs = document.querySelectorAll('.path-tab.disabled');
    disabledTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // TODO: Trigger newsletter modal here
        console.log('Newsletter modal will open here');
        // For now, just show coming soon
        const comingSoon = tab.querySelector('.coming-soon');
        if (comingSoon) {
          comingSoon.style.color = 'var(--color-accent)';
          setTimeout(() => {
            comingSoon.style.color = '';
          }, 2000);
        }
      });
    });
    
    modules.forEach(module => {
      const expandBtn = module.querySelector('.module-expand');
      const content = module.querySelector('.module-content');
      
      if (expandBtn && content) {
        // Load saved state from localStorage
        const moduleId = module.dataset.module;
        const isExpanded = localStorage.getItem(`module-${moduleId}-expanded`) === 'true';
        
        if (isExpanded) {
          expandBtn.setAttribute('aria-expanded', 'true');
          content.hidden = false;
        }
        
        // Handle click
        expandBtn.addEventListener('click', () => {
          const currentlyExpanded = expandBtn.getAttribute('aria-expanded') === 'true';
          const newExpanded = !currentlyExpanded;
          
          expandBtn.setAttribute('aria-expanded', newExpanded);
          content.hidden = !newExpanded;
          
          // Save state
          localStorage.setItem(`module-${moduleId}-expanded`, newExpanded);
          
          // Smooth scroll to module if expanding
          if (newExpanded) {
            module.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }
        });
      }
    });
  });
</script>